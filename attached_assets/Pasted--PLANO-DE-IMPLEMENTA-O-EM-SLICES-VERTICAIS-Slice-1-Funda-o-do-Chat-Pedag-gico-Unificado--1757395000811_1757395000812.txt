🎯 **PLANO DE IMPLEMENTAÇÃO EM SLICES VERTICAIS**

**Slice 1: Fundação do Chat Pedagógico Unificado**

- **Dependências**: Nenhuma (infraestrutura já existe)
- **Frontend**:
    - Novo componente `PedagogicalChatContainer.tsx`
    - Interface de chat unificada com streaming
    - Sistema de mensagens pedagógicas estruturadas
- **Backend**:
    - Extensão do `GeminiService` para fluxo conversacional
    - Endpoint `/api/chat/pedagogical` para nova experiência
    - Prompts pedagógicos estruturados por etapas
- **Integração**: Chat substitui página `argumentos.tsx` atual
- **Checkpoint**: ✅ **Usuário pode conversar com IA sobre redação em interface única**

**Slice 2: Preview Dinâmico da Base da Redação**

- **Dependências**: [Slice 1 completo]
- **Frontend**:
    - Componente `EssayPreview.tsx` com estrutura hierárquica
    - Estado compartilhado entre chat e preview
    - Atualização em tempo real da estrutura
- **Backend**:
    - Schema para estrutura da redação em construção
    - Endpoint para salvar/recuperar progresso
    - Extração de dados estruturados das conversas
- **Integração**: Preview sincroniza automaticamente com conversa
- **Checkpoint**: ✅ **Usuário vê sua redação sendo construída durante conversa**

**Slice 3: Mapa Mental Enriquecido com Sub-ramos**

- **Dependências**: [Slices 1, 2 completos]
- **Frontend**:
    - Integração React Flow para mapa mental interativo
    - Nós especializados (tema, argumentos, repertórios, conectivos)
    - Sistema de cores e ícones por categoria
- **Backend**:
    - Algoritmo de extração de elementos do mapa
    - Geração automática de nós e conexões
    - API para exportar mapa mental
- **Integração**: Mapa se constrói automaticamente baseado na conversa
- **Checkpoint**: ✅ **Usuário vê mapa mental detalhado sendo formado em tempo real**

**Slice 4: Sistema de Repertórios Integrado**

- **Dependências**: [Slices 1, 2, 3 completos]
- **Frontend**:
    - Modal de repertórios dentro do chat
    - Sugestões contextuais baseadas na conversa
    - Drag & drop para adicionar repertórios ao mapa
- **Backend**:
    - IA sugere repertórios baseados no contexto da conversa
    - Sistema de relevância por tema específico
    - Cache inteligente por contexto de redação
- **Integração**: Repertórios aparecem automaticamente durante conversa
- **Checkpoint**: ✅ **IA sugere repertórios relevantes conforme usuário desenvolve argumentos**

**Slice 5: Fluxo Pedagógico Inteligente**

- **Dependências**: [Slices 1, 2, 3, 4 completos]
- **Frontend**:
    - Sistema de progresso visual
    - Badges de conquista por etapas
    - Dicas contextuais inteligentes
- **Backend**:
    - Algoritmo de detecção de etapa atual
    - Sistema de sugestões pedagógicas progressivas
    - Prompts adaptativos por nível e contexto
- **Integração**: IA guia usuário naturalmente pelo processo
- **Checkpoint**: ✅ **IA atua como professor particular adaptando-se ao progresso**

**Slice 6: Conectivos e Estruturas Argumentativas**

- **Dependências**: [Slices 1-5 completos]
- **Frontend**:
    - Biblioteca visual de conectivos
    - Sugestões inline durante escrita
    - Preview de variações argumentativas
- **Backend**:
    - Base de dados de conectivos por nível
    - IA sugere estruturas argumentativas específicas
    - Análise da sofisticação textual
- **Integração**: Sugestões aparecem contextualizadas no chat
- **Checkpoint**: ✅ **Usuário recebe sugestões sofisticadas de conectivos e estruturas**

**Slice 7: Exportação e Finalização**

- **Dependências**: [Slices 1-6 completos]
- **Frontend**:
    - Sistema de export (PDF, DOC, imagem)
    - Preview final da redação completa
    - Opções de compartilhamento do mapa mental
- **Backend**:
    - Geração de PDFs profissionais
    - Sistema de templates para exportação
    - API para compartilhamento
- **Integração**: Botões de ação no final do fluxo
- **Checkpoint**: ✅ **Usuário pode exportar redação completa + mapa mental**

🚀 **ESTRATÉGIA DE IMPLEMENTAÇÃO**

**Priorização por Impacto Visual:**

1. **Chat Pedagógico** (maior wow-factor imediato)
2. **Preview Dinâmico** (visualização do progresso)
3. **Mapa Mental Rico** (diferencial competitivo)
4. **Integração Inteligente** (experiência completa)

**Tecnologias Confirmadas:**

- ✅ **React Flow** para mapas mentais interativos
- ✅ **Zustand** para estado global eficiente
- ✅ **Server-Sent Events** para streaming de IA
- ✅ **Framer Motion** para animações suaves